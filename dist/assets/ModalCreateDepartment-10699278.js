import{X as b,D as d,r as x,j as a,J as i,M as l,O as f}from"./index-df07a18a.js";import{M as v}from"./Modal-128b9747.js";import{u as I}from"./useMutation-cf360b2b.js";import{u as j}from"./useToast-6e1913b2.js";import{c as y}from"./department-service-381213db.js";const h=()=>{const s=b(),{setLoading:n}=d(),{successToast:r,errorToast:o}=j();return I({mutationFn:e=>y(e),onMutate:()=>{n(!0)},onError:async e=>{n(!1),o(e)},onSuccess:async e=>{r(e),s.invalidateQueries({queryKey:["departments"]})},onSettled:()=>{n(!1)}})},q=({isOpen:s,onDidDismiss:n})=>{const[r,o]=x.useState({name:"",abbreviation:""}),{mutate:e}=h(),u=(t,c)=>{o(p=>({...p,[t]:c}))},m=t=>{t.preventDefault(),e(r),o({name:"",abbreviation:""}),n()};return a.jsx(v,{title:"Create Department",isOpen:s,onDidDismiss:n,children:a.jsxs("form",{onSubmit:m,children:[a.jsx(i,{children:a.jsx(l,{type:"text",label:"Name",labelPlacement:"floating",value:r.name,onIonInput:t=>u("name",t.detail.value),required:!0})}),a.jsx(i,{children:a.jsx(l,{type:"text",label:"Abbreviation",labelPlacement:"floating",value:r.abbreviation,onIonInput:t=>u("abbreviation",t.detail.value),required:!0})}),a.jsx(f,{type:"submit",expand:"block",children:"Submit"})]})})};export{q as default};
