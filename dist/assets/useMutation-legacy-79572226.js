System.register(["./index-legacy-bd75f99b.js","./useToast-legacy-41791847.js"],(function(t,e){"use strict";var r,n,s,u,i,o,a,c,l,h;return{setters:[t=>{r=t.a3,n=t.a4,s=t.a5,u=t.a6,i=t.a7,o=t.a8,a=t.a9,c=t.X,l=t.aa},t=>{h=t.d}],execute:function(){t("u",(function(t,r,s){var i=o.useRef(!1),d=o.useState(0)[1],f=a(t,r,s),p=c(),v=o.useRef();v.current?v.current.setOptions(f):v.current=new e(p,f);var R=v.current.getCurrentResult();o.useEffect((function(){i.current=!0;var t=v.current.subscribe(u.batchCalls((function(){i.current&&d((function(t){return t+1}))})));return function(){i.current=!1,t()}}),[]);var m=o.useCallback((function(t,e){v.current.mutate(t,e).catch(l)}),[]);if(R.error&&h(void 0,v.current.options.useErrorBoundary,[R.error]))throw R.error;return n({},R,{mutate:m,mutateAsync:R.mutate})}));var e=function(t){function e(e,r){var n;return(n=t.call(this)||this).client=e,n.setOptions(r),n.bindMethods(),n.updateResult(),n}r(e,t);var i=e.prototype;return i.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},i.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},i.onUnsubscribe=function(){var t;this.listeners.length||null==(t=this.currentMutation)||t.removeObserver(this)},i.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)},i.getCurrentResult=function(){return this.currentResult},i.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},i.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,n({},this.options,{variables:void 0!==t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},i.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:s(),e=n({},t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset});this.currentResult=e},i.notify=function(t){var e=this;u.batch((function(){e.mutateOptions&&(t.onSuccess?(null==e.mutateOptions.onSuccess||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(null==e.mutateOptions.onError||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))},e}(i)}}}));
