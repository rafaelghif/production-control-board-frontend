System.register(["./index-legacy-bd75f99b.js","./Card-legacy-29f4711c.js","./useQuery-legacy-a6ea86d5.js","./useToast-legacy-41791847.js","./control-board-planning-legacy-44b93985.js","./Modal-legacy-e1e92521.js","./useMutation-legacy-79572226.js"],(function(e,n){"use strict";var t,a,s,l,i,r,o,d,c,u,j,x,y,g,m,p,h,b,f,v,I,D;return{setters:[e=>{t=e.D,a=e.X,s=e.r,l=e.j,i=e.J,r=e.M,o=e.O,d=e._,c=e.G,u=e.T,j=e.U,x=e.P,y=e.Q,g=e.R,m=e.I},e=>{p=e.C},e=>{h=e.u},e=>{b=e.u},e=>{f=e.g,v=e.u},e=>{I=e.M},e=>{D=e.u}],execute:function(){const S=({isOpen:e,data:n,onDidDismiss:d})=>{const[c,u]=s.useState({}),{mutate:j}=(()=>{const e=a(),{setLoading:n}=t(),{successToast:s,errorToast:l}=b();return D({mutationFn:e=>v(e),onMutate:()=>{n(!0)},onError:async e=>{n(!1),l(e)},onSuccess:async n=>{s(n),e.invalidateQueries({queryKey:["control-board-planning"]})},onSettled:()=>{n(!1)}})})(),x=(e,n)=>{u((t=>({...t,[e]:n})))};return s.useEffect((()=>{u((e=>({...e,id:null==n?void 0:n.id,date:null==n?void 0:n.date,LineId:null==n?void 0:n.LineId})))}),[n]),l.jsx(I,{title:"Update Control Board Planning",isOpen:e,onDidDismiss:d,children:l.jsxs("form",{onSubmit:e=>{e.preventDefault(),j(c),d()},children:[l.jsx(i,{children:l.jsx(r,{type:"text",label:"Id",labelPlacement:"floating",value:null==c?void 0:c.id,onIonInput:e=>x("id",e.detail.value),required:!0,disabled:!0})}),l.jsx(i,{children:l.jsx(r,{type:"date",label:"Date",labelPlacement:"floating",value:null==c?void 0:c.date,onIonInput:e=>x("date",e.detail.value),required:!0})}),l.jsx(o,{type:"submit",expand:"block",children:"Submit"})]})})},C=s.lazy((()=>d((()=>n.import("./TableControlBoardPlanning-legacy-be5d4fea.js")),void 0)));e("default",(()=>{const{line:e}=c(),{data:n,isLoading:a,refetch:i}=(e=>{const{setLoading:n}=t(),{errorToast:a}=b();return h({queryKey:["control-board-planning",{lineId:e||"All"}],queryFn:()=>f(e),onError:async e=>{a(e),n(!1)},onSettled:async()=>{n(!1)},refetchOnWindowFocus:!1,retry:!1})})(null==e?void 0:e.id),[r,o]=s.useState(),[d,v]=s.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(u,{slot:"fixed",onIonRefresh:async e=>{i(),e.detail.complete()},children:l.jsx(j,{})}),l.jsx(x,{children:l.jsx(y,{children:l.jsx(g,{children:l.jsx(p,{title:"Data Control Board Planning",children:a?l.jsx(m,{name:"crescent"}):l.jsx(s.Suspense,{fallback:l.jsx(m,{name:"crescent"}),children:l.jsx(C,{data:n,handleClickBtnEdit:e=>(e=>{o(e),v(!0)})(e)})})})})})}),l.jsx(S,{isOpen:d,data:r,onDidDismiss:()=>v(!1)})]})}))}}}));
