System.register(["./index-legacy-bd75f99b.js","./useMutation-legacy-79572226.js","./useToast-legacy-41791847.js","./Card-legacy-29f4711c.js"],(function(e,s){"use strict";var t,r,a,l,n,i,c,o,d,u,x,j,m,h,y,b;return{setters:[e=>{t=e.D,r=e.j,a=e.r,l=e._,n=e.G,i=e.P,c=e.Q,o=e.R,d=e.I,u=e.J,x=e.M,j=e.O},e=>{m=e.u},e=>{h=e.a,y=e.u},e=>{b=e.C}],execute:function(){const N="/order",f=()=>{const{setLoading:e}=t(),{errorToast:s}=y();return m({mutationFn:e=>(async e=>{try{return(await h(`${N}/input`,{serialNumber:e})).data}catch(s){throw s}})(e),onMutate:()=>{e(!0)},onError:async t=>{e(!1),s(t)},onSettled:()=>{e(!1)}})},g=({children:e})=>r.jsx("div",{className:"grid grid-cols-2 gap-4 p-5 font-['Source_Sans_3']",children:e}),p=({title:e,text:s})=>r.jsxs("div",{className:"pl-3 border-l border-black dark:border-slate-400",children:[r.jsx("div",{className:"font-semibold",children:e}),r.jsx("div",{children:s||"-"})]}),S=()=>{const{setLoading:e}=t(),{successToast:s,errorToast:r}=y();return m({mutationFn:e=>(async e=>{try{return await h(`${N}/`,e)}catch(s){throw s}})(e),onMutate:()=>{e(!0)},onError:async s=>{e(!1),r(s)},onSuccess:e=>{s(e.message)},onSettled:()=>{e(!1)}})},v=a.lazy((()=>l((()=>s.import("./Clock-legacy-c3d2892e.js")),void 0)));e("default",(()=>{const{line:e}=n(),s={serialNumberType:"Inhouse",serialNumber:"",model:"",barcodeIssueNo:"",sapLinkageNo:""},[t,l]=a.useState(s),[m,h]=a.useState(""),y=f(),N=S(),k=()=>{l(s),h("")};return r.jsx(i,{children:r.jsxs(c,{children:[r.jsx(o,{children:r.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-3",children:[r.jsx("div",{children:r.jsx(a.Suspense,{fallback:r.jsx(d,{name:"crescent"}),children:r.jsx(v,{})})}),r.jsx("div",{className:"w-1/3",children:r.jsx(u,{children:r.jsx(x,{type:"text",label:"Serial Number",labelPlacement:"floating",onFocus:k,onIonInput:e=>h(e.detail.value),onKeyUp:async e=>{if("Enter"===e.key)try{const e=await y.mutateAsync(m);l(null!=e?e:s)}catch(t){k()}},clearOnEdit:!0})})})]})}),r.jsx(o,{size:"12",children:r.jsx("div",{className:"flex flex-col items-center justify-center w-full",children:r.jsx("div",{className:"w-full xl:w-2/3",children:r.jsxs(b,{title:"Order Information",headerColor:"light",children:[r.jsxs(g,{children:[r.jsx(p,{title:"Serial Number",text:t.serialNumber}),r.jsx(p,{title:"Serial Number Type",text:t.serialNumberType}),r.jsx(p,{title:"Model",text:t.model}),r.jsx(p,{title:"SAP Linkage No",text:t.sapLinkageNo}),r.jsx(p,{title:"Barcode Issue No",text:t.barcodeIssueNo})]}),r.jsx(j,{expand:"block",onClick:()=>{N.mutate({...t,LineId:e.id}),k()},disabled:!t.serialNumber,children:"Submit"})]})})})})]})})}))}}}));
