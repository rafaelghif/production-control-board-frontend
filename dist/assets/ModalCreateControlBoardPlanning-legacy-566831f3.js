System.register(["./index-legacy-bd75f99b.js","./Modal-legacy-e1e92521.js","./date-fns-legacy-b76df621.js","./Card-legacy-29f4711c.js","./useToast-legacy-41791847.js","./useMutation-legacy-79572226.js","./control-board-planning-legacy-44b93985.js"],(function(e,t){"use strict";var n,i,s,a,l,c,u,r,o,q,m,d,y,g,j,p,x,h,b,f;return{setters:[e=>{n=e.r,i=e.j,s=e.J,a=e.M,l=e.X,c=e.D,u=e._,r=e.G,o=e.I,q=e.P,m=e.Q,d=e.R,y=e.O},e=>{g=e.M},e=>{j=e.f,p=e.p},e=>{x=e.C},e=>{h=e.u},e=>{b=e.u},e=>{f=e.c}],execute:function(){const v=({value:e,onChange:t})=>{const[l,c]=n.useState({time:"07:00",qty:0}),u=(e,n)=>{c((t=>({...t,[e]:n}))),t({...l,[e]:n})};return n.useEffect((()=>{c(e)}),[e]),i.jsxs(i.Fragment,{children:[i.jsx(s,{children:i.jsx(a,{type:"time",label:"Time",labelPlacement:"floating",value:l.time,onIonInput:e=>u("time",e.detail.value),disabled:!0})}),i.jsx(s,{children:i.jsx(a,{type:"number",value:l.qty,label:"Qty",labelPlacement:"floating",min:0,onIonInput:e=>u("qty",e.detail.value)})})]})},C=[{time:"07:00",sequence:1,qty:0},{time:"08:00",sequence:2,qty:0},{time:"09:00",sequence:3,qty:0},{time:"10:00",sequence:4,qty:0},{time:"11:00",sequence:5,qty:0},{time:"12:00",sequence:6,qty:0},{time:"13:00",sequence:7,qty:0},{time:"14:00",sequence:8,qty:0},{time:"15:00",sequence:9,qty:0},{time:"16:00",sequence:10,qty:0},{time:"17:00",sequence:11,qty:0},{time:"18:00",sequence:12,qty:0},{time:"19:00",sequence:13,qty:0},{time:"20:00",sequence:14,qty:0},{time:"21:00",sequence:15,qty:0},{time:"22:00",sequence:16,qty:0},{time:"23:00",sequence:17,qty:0},{time:"00:00",sequence:18,qty:0},{time:"01:00",sequence:19,qty:0},{time:"02:00",sequence:20,qty:0},{time:"03:00",sequence:21,qty:0},{time:"04:00",sequence:22,qty:0},{time:"05:00",sequence:23,qty:0},{time:"06:00",sequence:24,qty:0}],S=n.lazy((()=>u((()=>t.import("./FormControlBoardPlanning-legacy-ff4fb4f2.js")),void 0)));e("default",(({isOpen:e,onDidDismiss:t})=>{const{line:s}=r(),{warningToast:a}=h(),[u,D]=n.useState(!1),[I,P]=n.useState({date:j(new Date),LineId:s.id}),[M,T]=n.useState(C),{mutate:z}=(()=>{const e=l(),{setLoading:t}=c(),{successToast:n,errorToast:i}=h();return b({mutationFn:e=>f(e),onMutate:()=>{t(!0)},onError:async e=>{t(!1),i(e)},onSuccess:async t=>{n(t),e.invalidateQueries({queryKey:["control-board-planning"]})},onSettled:()=>{t(!1)}})})(),L=()=>{t(),D(!1),P({date:j(new Date),LineId:s.id}),T(C)};return i.jsx(g,{title:"Create Control Board Planning",isOpen:e,onDidDismiss:L,children:i.jsx(n.Suspense,{fallback:i.jsx(o,{name:"crescent"}),children:u?i.jsx(q,{children:i.jsxs(m,{children:[M.map(((e,t)=>i.jsx(d,{size:"12",sizeMd:"6",children:i.jsx(x,{title:`Time ${e.time} - ${p(e.time)}`,headerColor:"light",children:i.jsx(v,{value:e,onChange:e=>((e,t)=>{T(M.map(((n,i)=>t!==i?n:e)))})(e,t)})})},`planning-detail-${t}`))),i.jsx(d,{size:"12",children:i.jsx(y,{expand:"block",onClick:()=>{z({planning:I,planningDetails:M}),L()},children:"Submit"})})]})}):i.jsx(S,{controlBoardPlanning:I,handleInputControlBoardPlanning:(e,t)=>{P((n=>({...n,[e]:t})))},handleSubmit:e=>{e.preventDefault(),I.LineId?D(!0):a("Please fill Line")},line:s.id})})})}))}}}));
