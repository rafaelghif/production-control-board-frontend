System.register(["./index-legacy-bd75f99b.js","./Table-legacy-239c420a.js","./date-fns-legacy-b76df621.js","./Card-legacy-29f4711c.js","./useQuery-legacy-a6ea86d5.js","./useToast-legacy-41791847.js","./control-board-planning-legacy-44b93985.js","./Modal-legacy-e1e92521.js","./useMutation-legacy-79572226.js"],(function(e,t){"use strict";var n,a,l,s,i,r,o,d,c,u,y,j,g,p,m,x,b,h,v,f,D,S;return{setters:[e=>{n=e.D,a=e.X,l=e.r,s=e.j,i=e.J,r=e.M,o=e.O,d=e._,c=e.P,u=e.Q,y=e.R,j=e.I,g=e.aj},e=>{p=e.T},e=>{m=e.a},e=>{x=e.C},e=>{b=e.u},e=>{h=e.u},e=>{v=e.a,f=e.b},e=>{D=e.M},e=>{S=e.u}],execute:function(){const q=({isOpen:e,data:t,onDidDismiss:d})=>{const[c,u]=l.useState({}),{mutate:y}=(()=>{const e=a(),{setLoading:t}=n(),{successToast:l,errorToast:s}=h();return S({mutationFn:e=>f(e),onMutate:()=>{t(!0)},onError:async e=>{t(!1),s(e)},onSuccess:async t=>{l(t),e.invalidateQueries({queryKey:["control-board-planning-detail"]})},onSettled:()=>{t(!1)}})})(),j=(e,t)=>{u((n=>({...n,[e]:t})))};return l.useEffect((()=>{u((e=>({...e,id:null==t?void 0:t.id,qty:null==t?void 0:t.qty})))}),[t]),s.jsx(D,{title:"Update Control Board Planning Detail",isOpen:e,onDidDismiss:d,children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),y(c),d()},children:[s.jsx(i,{children:s.jsx(r,{type:"text",label:"Id",labelPlacement:"floating",value:null==c?void 0:c.id,onIonInput:e=>j("id",e.detail.value),required:!0,disabled:!0})}),s.jsx(i,{children:s.jsx(r,{type:"number",label:"Qty",labelPlacement:"floating",value:null==c?void 0:c.qty,onIonInput:e=>j("qty",e.detail.value),required:!0})}),s.jsx(o,{type:"submit",expand:"block",children:"Submit"})]})})},C=l.lazy((()=>d((()=>t.import("./TableControlBoardPlanningDetail-legacy-b0bb9862.js")),void 0))),w=({data:e})=>{const{data:t,isLoading:a}=(e=>{const{setLoading:t}=n(),{errorToast:a}=h();return b({queryKey:["control-board-planning-detail",{controlBoardPlanningId:e}],queryFn:()=>v(e),onError:async e=>{a(e),t(!1)},onSettled:async()=>{t(!1)},refetchOnWindowFocus:!1,retry:!1})})(e.id),[i,r]=l.useState(),[o,d]=l.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(c,{children:s.jsx(u,{children:s.jsx(y,{size:"12",children:s.jsx(x,{title:`Detail ${e.Line.name} ${e.date}`,headerColor:"light",children:a?s.jsx(j,{name:"crescent"}):s.jsx(l.Suspense,{fallback:s.jsx(j,{name:"crescent"}),children:s.jsx(C,{data:t,handleClickBtnEdit:e=>(e=>{r(e),d(!0)})(e)})})})})})}),s.jsx(q,{isOpen:o,data:i,onDidDismiss:()=>d(!1)})]})};e("default",(({data:e=[],handleClickBtnEdit:t})=>{const n=l.useMemo((()=>[{name:"Date",selector:e=>e.date,sortable:!0,wrap:!0},{name:"Line",selector:e=>e.Line.name,sortable:!0,wrap:!0},{name:"Status",cell:e=>s.jsx(g,{color:e.inActive?"danger":"success",children:e.inActive?"InActive":"Active"}),sortable:!0},{name:"Update By",selector:e=>e.updatedBy,sortable:!0},{name:"Update At",selector:e=>m(e.updatedAt),sortable:!0,wrap:!0},{name:"Edit",cell:e=>s.jsx(o,{fill:"clear",color:"warning",onClick:()=>{t(e)},children:"Edit"}),center:!0}]),[t]);return s.jsx(p,{columns:n,data:e,responsive:!0,pagination:!0,striped:!0,highlightOnHover:!0,expandableRows:!0,expandableRowsComponent:w})}))}}}));
