import{X as I,D as f,r as c,_ as b,F as x,j as e,I as y,J as l,M as s,O as h}from"./index-df07a18a.js";import{M as j}from"./Modal-128b9747.js";import{u as S}from"./useMutation-cf360b2b.js";import{u as T}from"./useToast-6e1913b2.js";import{c as v}from"./control-board-setting-050dfd4e.js";const P=()=>{const u=I(),{setLoading:r}=f(),{successToast:i,errorToast:a}=T();return S({mutationFn:n=>v(n),onMutate:()=>{r(!0)},onError:async n=>{r(!1),a(n)},onSuccess:async n=>{i(n),u.invalidateQueries({queryKey:["control-board-setting"]})},onSettled:()=>{r(!1)}})},C=c.lazy(()=>b(()=>import("./SelectLineByDepartment-4b5ff669.js"),["assets/SelectLineByDepartment-4b5ff669.js","assets/index-df07a18a.js","assets/index-4515709d.css","assets/useQuery-a2607d27.js","assets/useToast-6e1913b2.js","assets/line-service-b13602ed.js"])),R=({isOpen:u,onDidDismiss:r})=>{const{department:i}=x(),[a,n]=c.useState({actualWorkingTime:0,planQty:0,manPowerRegular:0,shiftTotal:0,LineId:""}),{mutate:m}=P(),o=(t,p)=>{n(g=>({...g,[t]:p}))},d=t=>{t.preventDefault(),m(a),n({actualWorkingTime:0,planQty:0,manPowerRegular:0,shiftTotal:0,LineId:""}),r()};return e.jsx(j,{title:"Create Control Board Setting",isOpen:u,onDidDismiss:r,children:e.jsxs("form",{onSubmit:d,children:[e.jsx(c.Suspense,{fallback:e.jsx(y,{name:"crescent"}),children:e.jsx(C,{value:a.LineId,departmentId:i.id,onChange:t=>o("LineId",t)})}),e.jsx(l,{children:e.jsx(s,{type:"number",label:"Actual Working Time",labelPlacement:"floating",value:a.actualWorkingTime,onIonInput:t=>o("actualWorkingTime",t.detail.value),required:!0})}),e.jsx(l,{children:e.jsx(s,{type:"number",label:"Plan QTY",labelPlacement:"floating",value:a.planQty,onIonInput:t=>o("planQty",t.detail.value),required:!0})}),e.jsx(l,{children:e.jsx(s,{type:"number",label:"Man Power Regular",labelPlacement:"floating",value:a.manPowerRegular,onIonInput:t=>o("manPowerRegular",t.detail.value),required:!0})}),e.jsx(l,{children:e.jsx(s,{type:"number",label:"Shift Total",labelPlacement:"floating",value:a.shiftTotal,onIonInput:t=>o("shiftTotal",t.detail.value),required:!0})}),e.jsx(h,{type:"submit",expand:"block",children:"Submit"})]})})};export{R as default};
