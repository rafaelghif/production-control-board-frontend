System.register(["./index-legacy-bd75f99b.js","./useMutation-legacy-79572226.js","./useToast-legacy-41791847.js"],(function(e,t){"use strict";var s,a,n,r,l,o,c,d,i,u,x,m,j,p,g,h,f,w;return{setters:[e=>{s=e.C,a=e.D,n=e.E,r=e.F,l=e.G,o=e.H,c=e.r,d=e.j,i=e.J,u=e.c,x=e.L,m=e.M,j=e.N,p=e.O},e=>{g=e.u},e=>{h=e.a,f=e.u,w=e.s}],execute:function(){const t=()=>{const e=s(),{setLoading:t}=a(),{errorToast:c,successToast:d}=f(),{setUser:i}=n(),{setDepartment:u}=r(),{setLine:x}=l(),{loginUser:m}=o();return g({mutationFn:e=>(async e=>{try{return await h("/authentication/",e)}catch(t){throw t}})(e),onMutate:()=>{t(!0)},onError:async e=>{c(e)},onSuccess:async e=>{const{data:t,message:s}=e,{user:a,department:n,line:r,token:l}=t;w(l),i(a),u(n),x(r),d(s),m()},onSettled:(s,a)=>{t(!1),null===a&&e.replace("/home")}})},y=()=>{const[e,s]=c.useState({badgeId:"",password:""}),{mutate:a}=t(),n=(e,t)=>{s((s=>({...s,[e]:t})))};return d.jsxs("form",{onSubmit:t=>{t.preventDefault(),a(e)},children:[d.jsxs(i,{children:[d.jsx(u,{icon:x,slot:"start"}),d.jsx(m,{type:"text",label:"BadgeId",labelPlacement:"floating",value:e.badgeId,onIonInput:e=>n("badgeId",e.detail.value)})]}),d.jsxs(i,{children:[d.jsx(u,{icon:j,slot:"start"}),d.jsx(m,{type:"password",label:"Password",labelPlacement:"floating",value:e.password,onIonInput:e=>n("password",e.detail.value)})]}),d.jsx(p,{type:"submit",expand:"block",children:"Login"})]})};e("default",(()=>d.jsx("div",{className:"flex flex-col items-center justify-center w-screen h-full",children:d.jsxs("div",{className:"w-10/12 p-5 rounded shadow-md md:w-1/2 lg:w-1/3",children:[d.jsx("div",{className:"font-['Source_Sans_3'] text-center mb-2",children:d.jsx("span",{className:"text-xl",children:"Production Control Board"})}),d.jsx("div",{children:d.jsx(y,{})})]})})))}}}));
