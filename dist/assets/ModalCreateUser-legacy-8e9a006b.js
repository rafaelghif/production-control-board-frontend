System.register(["./index-legacy-bd75f99b.js","./Modal-legacy-e1e92521.js","./useMutation-legacy-79572226.js","./useToast-legacy-41791847.js","./user-service-legacy-3fec57fc.js"],(function(e,a){"use strict";var s,n,t,l,r,i,d,o,u,c,m,p,j,I,x;return{setters:[e=>{s=e.X,n=e.D,t=e.r,l=e._,r=e.j,i=e.J,d=e.M,o=e.Z,u=e.$,c=e.I,m=e.O},e=>{p=e.M},e=>{j=e.u},e=>{I=e.u},e=>{x=e.c}],execute:function(){const g=t.lazy((()=>l((()=>a.import("./SelectDepartment-legacy-5e42b974.js")),void 0))),v=t.lazy((()=>l((()=>a.import("./SelectLineByDepartment-legacy-691f017c.js")),void 0)));e("default",(({isOpen:e,onDidDismiss:a})=>{const[l,y]=t.useState({badgeId:"",password:"",name:"",role:"Basic",DepartmentId:"",LineId:""}),{mutate:b}=(()=>{const e=s(),{setLoading:a}=n(),{successToast:t,errorToast:l}=I();return j({mutationFn:e=>x(e),onMutate:()=>{a(!0)},onError:async e=>{a(!1),l(e)},onSuccess:async a=>{t(a),e.invalidateQueries({queryKey:["users"]})},onSettled:()=>{a(!1)}})})(),h=(e,a)=>{y((s=>({...s,[e]:a})))};return r.jsx(p,{title:"Create User",isOpen:e,onDidDismiss:a,children:r.jsxs("form",{onSubmit:e=>{e.preventDefault(),b(l),y({badgeId:"",password:"",name:"",role:"Basic",DepartmentId:"",LineId:""}),a()},children:[r.jsx(i,{children:r.jsx(d,{type:"text",label:"Badge Id",labelPlacement:"floating",value:l.badgeId,onIonInput:e=>h("badgeId",e.detail.value),required:!0})}),r.jsx(i,{children:r.jsx(d,{type:"password",label:"Password",labelPlacement:"floating",value:l.password,onIonInput:e=>h("password",e.detail.value),required:!0})}),r.jsx(i,{children:r.jsx(d,{type:"text",label:"Name",labelPlacement:"floating",value:l.name,onIonInput:e=>h("name",e.detail.value),required:!0})}),r.jsx(i,{children:r.jsxs(o,{value:l.role,onIonChange:e=>h("role",e.detail.value),children:[r.jsx(u,{value:"Basic",children:"Basic"}),r.jsx(u,{value:"Admin",children:"Admin"}),r.jsx(u,{value:"Super User",children:"Super User"})]})}),r.jsxs(t.Suspense,{fallback:r.jsx(c,{name:"crescent"}),children:[r.jsx(g,{value:l.DepartmentId,onChange:e=>(e=>{y((a=>({...a,DepartmentId:e}))),y((e=>({...e,LineId:""})))})(e)}),l.DepartmentId&&r.jsx(v,{value:l.LineId,departmentId:l.DepartmentId,onChange:e=>h("LineId",e)})]}),r.jsx(m,{type:"submit",expand:"block",children:"Submit"})]})})}))}}}));
